<%- include("../partials/header") %>

<h1>Edit Flight Details</h1>

<table>
  <thead>
    <th>Airline</th>
    <th>Airport</th>
    <th>Flight No.</th>
    <th>Departure Date</th>
    <th>Departure Time</th>
    <th>Destination Airport</th>
    <th>Arrival Date</th>
    <th>Arrival Time</th>
  </thead>
  <tbody>
    <tr>
      <% if(flight.airline === "Korean") { %>
      <td><%= flight.airline %> Air</td>
      <% } else if(flight.airline === "Asiana") { %>
      <td><%= flight.airline %> Airline</td>
      <% } else if(flight.airline === "Busan") { %>
      <td>Air <%= flight.airline %></td>
      <% } %>
      <td><%= flight.airport %></td>
      <td><%= flight.flightNo %></td>
      <td>
        <% if (flight.departsDate) { %> <%=
        flight.departsDate.toLocaleDateString(undefined, { year: 'numeric',
        month: 'short', day: 'numeric' }) %> <% } %>
      </td>
      <td><%= flight.departsTime.substring(0, 5) %></td>
      <td>
        <form
          method="POST"
          action="/flights/<%= flight._id %>/destinations"
        >
          <select name="airport">
            <option value="" disabled selected>Select the Airport</option>
            <option value="ICN">ICN - Incheon</option>
            <option value="PUS">PUS - Busan</option>
            <option value="GMP">GMP - Gimpo</option>
            <option value="BKK">BKK - Bangkok</option>
            <option value="LHR">LHR - London</option>
          </select>
        </td>
        <td>
          <input type="date" name="arrivalDate" />
        </td>
        <td>
          <input type="time" name="arrivalTime" />
        </td>
      </tr>
    </tbody>
  </table>
  <button type="submit">SAVE</button>
</form>

<%- include("../partials/footer") %>
